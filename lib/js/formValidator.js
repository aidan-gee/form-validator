var validator=function(e){function t(e,a){for(a(e),e=e.firstChild;e;)t(e,a),e=e.nextSibling}var a=function(e){var t=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);return t.test(e)},n=function(e){var t=new RegExp(/^([a-zA-Z]){1}([0-9][0-9]|[0-9]|[a-zA-Z][0-9][a-zA-Z]|[a-zA-Z][0-9][0-9]|[a-zA-Z][0-9]){1}([ ])*([0-9][a-zA-z][a-zA-z]){1}$/);return t.test(e)},i=function(e){if(e.hasOwnProperty("value")){var t=e.value;if("undefined"==typeof t||""==t)return!0}return!1},r=function(e){var t=new RegExp(/^[A-Za-z ]+$/);return t.test(e)},l=function(e){var t=e.el;if(i(e.el))return e.setInvalid(),e;switch(e.setValid(),t.name){case"first-name":case"last-name":case"name":r(t.value)?e.setValid():e.setInvalid();break;case"uk-postcode":n(t.value)?e.setValid():e.setInvalid();break;case"email":a(t.value)?e.setValid():e.setInvalid()}return e},u=function(e){var t=e.items,a=!0;if(t.length<1)return!0;for(var n=t.length-1;n>=0;n--){var i=l(t[n]);i.valid||(a=!1)}return e.valid=a,e},v=function(e,t){var a={setInvalid:function(){this.valid=!1,-1==this.el.className.indexOf("invalid")&&(this.el.className+=" invalid")},setValid:function(){this.valid=!0,this.el.className=this.el.className.replace("invalid","")}};return Object.defineProperties(a,{name:{value:e},el:{value:t},valid:{value:!0,writable:!0}}),a},s=function(e,a){var n=[];if(e.constructor===Array&&e.length>0)for(var i=e.length-1;i>=0;i--)t(a,function(t){if(t.name==e[i]&&("SELECT"==t.tagName||"INPUT"==t.tagName)){var a=v(e[i],t);n.push(a)}});else t(a,function(t){if("SELECT"==t.tagName||"INPUT"==t.tagName){var a=v(e[i],t);n.push(a)}});var r={validateForm:function(){u(this)},validateInput:function(e){this.items.forEach(function(t,a){t.el.name==e&&(t=l(t))})},getInvalid:function(){for(var e=[],t=0;t<this.items.length;t++)this.items[t].valid||e.push(n[t]);return e}};return Object.defineProperties(r,{items:{value:n},valid:{value:!0,writable:!0}}),r};return e.validateInput=function(e){var t,a;t=document.getElementById(e),a="undefined"!=typeof t.name?t.name:void 0;var n=v(a,t);return l(n)},e.validateForm=function(e,t){var a=document.getElementById(e),n=s(t,a);return u(n)},e.start=function(e,t,a){var n=document.getElementById(e),i=s(t,n);return n.addEventListener("submit",function(e){var t=u(i);return t.valid?!0:(e.preventDefault(),void("function"==typeof a&&a(t)))}),i},e}(validator||{});